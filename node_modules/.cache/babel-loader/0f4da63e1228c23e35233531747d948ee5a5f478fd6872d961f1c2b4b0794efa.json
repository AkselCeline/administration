{"ast":null,"code":"import React,{useState,useEffect,useRef}from'react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function LoopAnimation(){const[i,setI]=useState(0);const[isRunning,setIsRunning]=useState(false);const[logs,setLogs]=useState([]);const[speed,setSpeed]=useState(800);// vitesse en ms par étape\nconst maxIterations=5;const intervalRef=useRef(null);// Fonction pour démarrer ou arrêter l'animation\nfunction toggleRun(){if(isRunning){clearInterval(intervalRef.current);setIsRunning(false);}else{if(i>=maxIterations){setI(0);setLogs([]);}setIsRunning(true);}}// Effet pour gérer la boucle animée\nuseEffect(()=>{if(isRunning){intervalRef.current=setInterval(()=>{setI(prev=>{const next=prev+1;if(next>maxIterations){clearInterval(intervalRef.current);setIsRunning(false);return prev;}setLogs(logs=>[...logs,\"It\\xE9ration \".concat(next,\": i = \").concat(next)]);return next;});},speed);}return()=>clearInterval(intervalRef.current);},[isRunning,speed]);// Reset manuel\nfunction reset(){clearInterval(intervalRef.current);setIsRunning(false);setI(0);setLogs([]);}return/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-lg mx-auto p-6 font-sans space-y-6 border rounded shadow\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold mb-4\",children:\"Animation de boucle FOR\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Cette animation montre une boucle \",/*#__PURE__*/_jsx(\"code\",{children:\"for\"}),\" qui compte de 1 \\xE0 \",maxIterations,\". \\xC0 chaque it\\xE9ration, on affiche la valeur de \",/*#__PURE__*/_jsx(\"code\",{children:\"i\"}),\".\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-center mt-6 mb-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"inline-block p-6 bg-blue-100 rounded\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-xl font-semibold mb-2\",children:\"Valeur de i\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-6xl font-mono text-blue-700\",children:i===0?'-':i})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-center space-x-4\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:toggleRun,className:\"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 transition\",children:isRunning?'Pause':i===maxIterations?'Relancer':'Démarrer'}),/*#__PURE__*/_jsx(\"button\",{onClick:reset,className:\"px-4 py-2 bg-gray-400 text-white rounded hover:bg-gray-500 transition\",disabled:!i&&logs.length===0,children:\"R\\xE9initialiser\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-6\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"block mb-2 font-semibold\",htmlFor:\"speed\",children:[\"Vitesse de l\\u2019animation (ms par \\xE9tape) : \",speed,\" ms\"]}),/*#__PURE__*/_jsx(\"input\",{type:\"range\",id:\"speed\",min:\"200\",max:\"2000\",step:\"100\",value:speed,onChange:e=>setSpeed(Number(e.target.value)),className:\"w-full\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-6 max-h-48 overflow-y-auto bg-gray-100 p-3 rounded border\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold mb-2\",children:\"Instructions ex\\xE9cut\\xE9es :\"}),logs.length===0&&/*#__PURE__*/_jsx(\"p\",{className:\"italic text-gray-500\",children:\"Lancez l\\u2019animation pour voir les \\xE9tapes.\"}),/*#__PURE__*/_jsx(\"ul\",{className:\"list-disc list-inside font-mono text-sm space-y-1\",children:logs.map((log,idx)=>/*#__PURE__*/_jsx(\"li\",{children:log},idx))})]}),i===maxIterations&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-6 p-4 bg-green-100 border border-green-400 rounded text-green-700 font-semibold\",children:[\"La boucle est termin\\xE9e !\",/*#__PURE__*/_jsx(\"br\",{}),\"Cela signifie qu\\u2019on a ex\\xE9cut\\xE9 toutes les instructions de la boucle de 1 \\xE0 \",maxIterations,\".\"]})]});}","map":{"version":3,"names":["React","useState","useEffect","useRef","jsx","_jsx","jsxs","_jsxs","LoopAnimation","i","setI","isRunning","setIsRunning","logs","setLogs","speed","setSpeed","maxIterations","intervalRef","toggleRun","clearInterval","current","setInterval","prev","next","concat","reset","className","children","onClick","disabled","length","htmlFor","type","id","min","max","step","value","onChange","e","Number","target","map","log","idx"],"sources":["C:/Users/Karim/Desktop/codeaventure/my-learning-app-starter/src/pages/lessons/LoopAnimation.jsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\n\r\nexport default function LoopAnimation() {\r\n    const [i, setI] = useState(0);\r\n    const [isRunning, setIsRunning] = useState(false);\r\n    const [logs, setLogs] = useState([]);\r\n    const [speed, setSpeed] = useState(800); // vitesse en ms par étape\r\n\r\n    const maxIterations = 5;\r\n    const intervalRef = useRef(null);\r\n\r\n    // Fonction pour démarrer ou arrêter l'animation\r\n    function toggleRun() {\r\n        if (isRunning) {\r\n            clearInterval(intervalRef.current);\r\n            setIsRunning(false);\r\n        } else {\r\n            if (i >= maxIterations) {\r\n                setI(0);\r\n                setLogs([]);\r\n            }\r\n            setIsRunning(true);\r\n        }\r\n    }\r\n\r\n    // Effet pour gérer la boucle animée\r\n    useEffect(() => {\r\n        if (isRunning) {\r\n            intervalRef.current = setInterval(() => {\r\n                setI(prev => {\r\n                    const next = prev + 1;\r\n                    if (next > maxIterations) {\r\n                        clearInterval(intervalRef.current);\r\n                        setIsRunning(false);\r\n                        return prev;\r\n                    }\r\n                    setLogs(logs => [...logs, `Itération ${next}: i = ${next}`]);\r\n                    return next;\r\n                });\r\n            }, speed);\r\n        }\r\n\r\n        return () => clearInterval(intervalRef.current);\r\n    }, [isRunning, speed]);\r\n\r\n    // Reset manuel\r\n    function reset() {\r\n        clearInterval(intervalRef.current);\r\n        setIsRunning(false);\r\n        setI(0);\r\n        setLogs([]);\r\n    }\r\n\r\n    return (\r\n        <div className=\"max-w-lg mx-auto p-6 font-sans space-y-6 border rounded shadow\">\r\n            <h2 className=\"text-2xl font-bold mb-4\">Animation de boucle FOR</h2>\r\n            <p>\r\n                Cette animation montre une boucle <code>for</code> qui compte de 1 à {maxIterations}.\r\n                À chaque itération, on affiche la valeur de <code>i</code>.\r\n            </p>\r\n\r\n            <div className=\"text-center mt-6 mb-4\">\r\n                <div className=\"inline-block p-6 bg-blue-100 rounded\">\r\n                    <div className=\"text-xl font-semibold mb-2\">Valeur de i</div>\r\n                    <div className=\"text-6xl font-mono text-blue-700\">{i === 0 ? '-' : i}</div>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"flex justify-center space-x-4\">\r\n                <button\r\n                    onClick={toggleRun}\r\n                    className=\"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 transition\"\r\n                >\r\n                    {isRunning ? 'Pause' : i === maxIterations ? 'Relancer' : 'Démarrer'}\r\n                </button>\r\n                <button\r\n                    onClick={reset}\r\n                    className=\"px-4 py-2 bg-gray-400 text-white rounded hover:bg-gray-500 transition\"\r\n                    disabled={!i && logs.length === 0}\r\n                >\r\n                    Réinitialiser\r\n                </button>\r\n            </div>\r\n\r\n            <div className=\"mt-6\">\r\n                <label className=\"block mb-2 font-semibold\" htmlFor=\"speed\">\r\n                    Vitesse de l’animation (ms par étape) : {speed} ms\r\n                </label>\r\n                <input\r\n                    type=\"range\"\r\n                    id=\"speed\"\r\n                    min=\"200\"\r\n                    max=\"2000\"\r\n                    step=\"100\"\r\n                    value={speed}\r\n                    onChange={e => setSpeed(Number(e.target.value))}\r\n                    className=\"w-full\"\r\n                />\r\n            </div>\r\n\r\n            <div className=\"mt-6 max-h-48 overflow-y-auto bg-gray-100 p-3 rounded border\">\r\n                <h3 className=\"font-semibold mb-2\">Instructions exécutées :</h3>\r\n                {logs.length === 0 && <p className=\"italic text-gray-500\">Lancez l’animation pour voir les étapes.</p>}\r\n                <ul className=\"list-disc list-inside font-mono text-sm space-y-1\">\r\n                    {logs.map((log, idx) => (\r\n                        <li key={idx}>{log}</li>\r\n                    ))}\r\n                </ul>\r\n            </div>\r\n\r\n            {i === maxIterations && (\r\n                <div className=\"mt-6 p-4 bg-green-100 border border-green-400 rounded text-green-700 font-semibold\">\r\n                    La boucle est terminée !<br />\r\n                    Cela signifie qu’on a exécuté toutes les instructions de la boucle de 1 à {maxIterations}.\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}