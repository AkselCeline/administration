{"ast":null,"code":"import React,{useState}from'react';import{useParams,useNavigate}from'react-router-dom';import lessonsData from'../data/lessonsData';// Imports de composants spécifiques à certains cours\nimport AlgorithmeIntro from'./lessons/AlgorithmeIntro';// ajuste le chemin si nécessaire\nimport ConditionIntro from'./lessons/ConditionIntro';// ajuste le chemin si nécessaire\nimport BoucleIntro from'./lessons/BoucleIntro';// ajuste le chemin si nécessaire\nimport VariableIntro from'./lessons/VariableIntro';// ajuste le chemin si nécessaire\nimport FunctionIntro from\"./lessons/FunctionIntro\";// ajuste le chemin si nécessaire\nimport LogicGameIntro from\"./lessons/LogicGameIntro\";// ajuste le chemin si nécessaire\nimport ConsoleLogIntro from\"./lessons/ConsoleLogIntro\";// ajuste le chemin si nécessaire\nimport LetVariablesIntro from\"./lessons/LetVariablesIntro\";// ajuste le chemin si nécessaire\nimport IfConditionIntro from\"./lessons/IfConditionIntro\";// ajuste le chemin si nécessaire\n// Map des composants personnalisés\nimport{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const courseComponents={AlgorithmeIntro,ConditionIntro,BoucleIntro,VariableIntro,FunctionIntro,LogicGameIntro,ConsoleLogIntro,LetVariablesIntro,IfConditionIntro// Ajoute ici d'autres composants personnalisés si besoin\n};export default function CourseDetail(){var _course$content;const{theme,courseId}=useParams();const navigate=useNavigate();if(!theme)return/*#__PURE__*/_jsx(\"div\",{className:\"p-8 text-red-500\",children:\"Th\\xE8me non sp\\xE9cifi\\xE9\"});const themeData=lessonsData[theme.toLowerCase()];if(!themeData)return/*#__PURE__*/_jsx(\"div\",{className:\"p-8 text-red-500\",children:\"Th\\xE8me introuvable\"});// Recherche du cours\nlet course=null;for(const level of themeData.levels){console.log(\"Level courses:\",level.courses);console.log(\"Searching for courseId:\",Number(courseId));course=level.courses.find(c=>c.id===Number(courseId));if(course)break;}console.log(\"Course trouvé :\",course);if(!course)return/*#__PURE__*/_jsx(\"div\",{className:\"p-8 text-red-500\",children:\"Cours introuvable\"});// Si un composant spécifique est défini pour ce cours, le charger\nconst CustomComponent=course.component?courseComponents[course.component]:null;// Gestion quiz\nconst[currentQ,setCurrentQ]=useState(0);const[score,setScore]=useState(0);const[showResult,setShowResult]=useState(false);const questions=((_course$content=course.content)===null||_course$content===void 0?void 0:_course$content.questions)||[];const handleAnswer=index=>{if(index===questions[currentQ].answer){setScore(prev=>prev+1);}if(currentQ+1<questions.length){setCurrentQ(prev=>prev+1);}else{setShowResult(true);}};const restartQuiz=()=>{setCurrentQ(0);setScore(0);setShowResult(false);};return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-gray-50 p-8 max-w-3xl mx-auto\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"mb-6 text-teal-600 hover:underline\",onClick:()=>navigate(-1),children:\"\\u2190 Retour\"}),/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold text-teal-800 mb-6\",children:course.title}),CustomComponent?/*#__PURE__*/_jsx(CustomComponent,{}):course.type===\"cours\"?/*#__PURE__*/_jsx(\"div\",{className:\"bg-white p-6 rounded-xl shadow whitespace-pre-line\",children:typeof course.content==='string'?course.content:\"Contenu indisponible.\"}):/*#__PURE__*/_jsx(\"div\",{className:\"bg-white p-6 rounded-xl shadow\",children:questions.length===0?/*#__PURE__*/_jsx(\"p\",{children:\"Aucune question disponible pour ce quiz.\"}):!showResult?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"p\",{className:\"mb-4 font-semibold\",\"aria-live\":\"polite\",children:[\"Question \",currentQ+1,\" / \",questions.length]}),/*#__PURE__*/_jsx(\"p\",{className:\"mb-6\",children:questions[currentQ].question}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-3\",role:\"list\",children:questions[currentQ].options.map((opt,idx)=>/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleAnswer(idx),className:\"w-full bg-teal-100 hover:bg-teal-200 rounded py-2\",\"aria-label\":\"Option \".concat(idx+1,\": \").concat(opt),children:opt},idx))})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-xl font-semibold mb-4\",children:\"Quiz termin\\xE9 !\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-lg mb-6\",children:[\"Votre score : \",score,\" / \",questions.length]}),/*#__PURE__*/_jsx(\"button\",{onClick:restartQuiz,className:\"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 transition\",children:\"Recommencer le quiz\"})]})})]});}","map":{"version":3,"names":["React","useState","useParams","useNavigate","lessonsData","AlgorithmeIntro","ConditionIntro","BoucleIntro","VariableIntro","FunctionIntro","LogicGameIntro","ConsoleLogIntro","LetVariablesIntro","IfConditionIntro","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","courseComponents","CourseDetail","_course$content","theme","courseId","navigate","className","children","themeData","toLowerCase","course","level","levels","console","log","courses","Number","find","c","id","CustomComponent","component","currentQ","setCurrentQ","score","setScore","showResult","setShowResult","questions","content","handleAnswer","index","answer","prev","length","restartQuiz","onClick","title","type","question","role","options","map","opt","idx","concat"],"sources":["C:/Users/Karim/Desktop/codeaventure/my-learning-app-starter/src/pages/CourseDetail.jsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { useParams, useNavigate } from 'react-router-dom';\r\nimport lessonsData from '../data/lessonsData';\r\n\r\n// Imports de composants spécifiques à certains cours\r\nimport AlgorithmeIntro from './lessons/AlgorithmeIntro'; // ajuste le chemin si nécessaire\r\nimport ConditionIntro from './lessons/ConditionIntro'; // ajuste le chemin si nécessaire\r\nimport BoucleIntro from './lessons/BoucleIntro'; // ajuste le chemin si nécessaire\r\nimport VariableIntro from './lessons/VariableIntro'; // ajuste le chemin si nécessaire\r\nimport FunctionIntro from \"./lessons/FunctionIntro\"; // ajuste le chemin si nécessaire\r\nimport LogicGameIntro from \"./lessons/LogicGameIntro\"; // ajuste le chemin si nécessaire\r\nimport ConsoleLogIntro from \"./lessons/ConsoleLogIntro\"; // ajuste le chemin si nécessaire\r\nimport LetVariablesIntro from \"./lessons/LetVariablesIntro\"; // ajuste le chemin si nécessaire\r\nimport IfConditionIntro from \"./lessons/IfConditionIntro\"; // ajuste le chemin si nécessaire\r\n\r\n// Map des composants personnalisés\r\nconst courseComponents = {\r\n    AlgorithmeIntro,\r\n    ConditionIntro,\r\n    BoucleIntro,\r\n    VariableIntro,\r\n    FunctionIntro,\r\n    LogicGameIntro,\r\n    ConsoleLogIntro,\r\n    LetVariablesIntro,\r\n    IfConditionIntro\r\n    // Ajoute ici d'autres composants personnalisés si besoin\r\n};\r\n\r\nexport default function CourseDetail() {\r\n    const { theme, courseId } = useParams();\r\n    const navigate = useNavigate();\r\n\r\n    if (!theme) return <div className=\"p-8 text-red-500\">Thème non spécifié</div>;\r\n\r\n    const themeData = lessonsData[theme.toLowerCase()];\r\n    if (!themeData) return <div className=\"p-8 text-red-500\">Thème introuvable</div>;\r\n\r\n    // Recherche du cours\r\n    let course = null;\r\n    for (const level of themeData.levels) {\r\n        console.log(\"Level courses:\", level.courses);\r\n        console.log(\"Searching for courseId:\", Number(courseId));\r\n        course = level.courses.find(c => c.id === Number(courseId));\r\n        if (course) break;\r\n    }\r\n    console.log(\"Course trouvé :\", course);\r\n    if (!course) return <div className=\"p-8 text-red-500\">Cours introuvable</div>;\r\n\r\n    // Si un composant spécifique est défini pour ce cours, le charger\r\n    const CustomComponent = course.component ? courseComponents[course.component] : null;\r\n\r\n    // Gestion quiz\r\n    const [currentQ, setCurrentQ] = useState(0);\r\n    const [score, setScore] = useState(0);\r\n    const [showResult, setShowResult] = useState(false);\r\n    const questions = course.content?.questions || [];\r\n\r\n    const handleAnswer = (index) => {\r\n        if (index === questions[currentQ].answer) {\r\n            setScore(prev => prev + 1);\r\n        }\r\n        if (currentQ + 1 < questions.length) {\r\n            setCurrentQ(prev => prev + 1);\r\n        } else {\r\n            setShowResult(true);\r\n        }\r\n    };\r\n\r\n    const restartQuiz = () => {\r\n        setCurrentQ(0);\r\n        setScore(0);\r\n        setShowResult(false);\r\n    };\r\n    return (\r\n        <div className=\"min-h-screen bg-gray-50 p-8 max-w-3xl mx-auto\">\r\n            <button\r\n                className=\"mb-6 text-teal-600 hover:underline\"\r\n                onClick={() => navigate(-1)}\r\n            >\r\n                ← Retour\r\n            </button>\r\n\r\n            <h1 className=\"text-3xl font-bold text-teal-800 mb-6\">{course.title}</h1>\r\n\r\n            {CustomComponent ? (\r\n                <CustomComponent />\r\n            ) : course.type === \"cours\" ? (\r\n                <div className=\"bg-white p-6 rounded-xl shadow whitespace-pre-line\">\r\n                    {typeof course.content === 'string' ? course.content : \"Contenu indisponible.\"}\r\n                </div>\r\n            ) : (\r\n                <div className=\"bg-white p-6 rounded-xl shadow\">\r\n                    {questions.length === 0 ? (\r\n                        <p>Aucune question disponible pour ce quiz.</p>\r\n                    ) : !showResult ? (\r\n                        <>\r\n                            <p className=\"mb-4 font-semibold\" aria-live=\"polite\">\r\n                                Question {currentQ + 1} / {questions.length}\r\n                            </p>\r\n                            <p className=\"mb-6\">{questions[currentQ].question}</p>\r\n                            <div className=\"space-y-3\" role=\"list\">\r\n                                {questions[currentQ].options.map((opt, idx) => (\r\n                                    <button\r\n                                        key={idx}\r\n                                        onClick={() => handleAnswer(idx)}\r\n                                        className=\"w-full bg-teal-100 hover:bg-teal-200 rounded py-2\"\r\n                                        aria-label={`Option ${idx + 1}: ${opt}`}\r\n                                    >\r\n                                        {opt}\r\n                                    </button>\r\n                                ))}\r\n                            </div>\r\n                        </>\r\n                    ) : (\r\n                        <div className=\"text-center\">\r\n                            <p className=\"text-xl font-semibold mb-4\">Quiz terminé !</p>\r\n                            <p className=\"text-lg mb-6\">\r\n                                Votre score : {score} / {questions.length}\r\n                            </p>\r\n                            <button\r\n                                onClick={restartQuiz}\r\n                                className=\"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 transition\"\r\n                            >\r\n                                Recommencer le quiz\r\n                            </button>\r\n                        </div>\r\n                    )}\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}